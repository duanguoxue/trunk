licenses(["notice"])
cc_library(
  visibility = ["//visibility:public"],
  includes = [
    "upstream",
    "linux-k8",
    "upstream/include/",
  ],
  srcs = [
    "linux-k8/event2/event-config.h",
    "linux-k8/internal/config.h",
    "upstream/evdns.h",
    "upstream/mm-internal.h",
    "upstream/util-internal.h",
    "upstream/ipv6-internal.h",
    "upstream/evthread-internal.h",
    "upstream/evthread.c",
    "upstream/defer-internal.h",
    "upstream/evmap-internal.h",
    "upstream/evmap.c",
    "upstream/evsignal-internal.h",
    "upstream/log-internal.h",
    "upstream/changelist-internal.h",
    "upstream/ratelim-internal.h",
    "upstream/iocp-internal.h",
    "upstream/ht-internal.h",
    "upstream/evrpc.h",
    "upstream/evutil.h",
    "upstream/evutil_rand.c",
    "upstream/minheap-internal.h",
    "upstream/event-internal.h",
    "upstream/evrpc-internal.h",
    "upstream/http-internal.h",
    "upstream/strlcpy-internal.h",
    "upstream/bufferevent-internal.h",
    "upstream/bufferevent.c",
    "upstream/event.c",
    "upstream/buffer.c",
    "upstream/evbuffer-internal.h",
    "upstream/log.c",
    "upstream/evutil.c",
    "upstream/event_tagging.c",
    "upstream/http.c",
    "upstream/evdns.c",
    "upstream/strlcpy.c",
    "upstream/signal.c",
    "upstream/epoll.c",
    "upstream/poll.c",
    "upstream/select.c",
  ],
  hdrs = [
    "upstream/arc4random.c",
    "upstream/include/event2/buffer.h",
    "upstream/include/event2/buffer_compat.h",
    "upstream/include/event2/bufferevent.h",
    "upstream/include/event2/bufferevent_compat.h",
    "upstream/include/event2/bufferevent_ssl.h",
    "upstream/include/event2/bufferevent_struct.h",
    "upstream/include/event2/dns.h",
    "upstream/include/event2/dns_compat.h",
    "upstream/include/event2/dns_struct.h",
    "upstream/include/event2/event.h",
    "upstream/event.h",
    "upstream/include/event2/event_compat.h",
    "upstream/include/event2/event_struct.h",
    "upstream/include/event2/http.h",
    "upstream/include/event2/http_compat.h",
    "upstream/include/event2/http_struct.h",
    "upstream/include/event2/keyvalq_struct.h",
    "upstream/include/event2/listener.h",
    "upstream/include/event2/rpc.h",
    "upstream/include/event2/rpc_compat.h",
    "upstream/include/event2/rpc_struct.h",
    "upstream/include/event2/tag.h",
    "upstream/include/event2/tag_compat.h",
    "upstream/include/event2/thread.h",
    "upstream/include/event2/util.h",
  ],
  name = "libevent",
  copts = [
    "-DHAVE_CONFIG_H",
    "-Ithird_party/libevent/upstream/compat",
    "-Ithird_party/libevent/linux-k8/internal",
    "-Wno-unused-but-set-variable",
  ],
)
